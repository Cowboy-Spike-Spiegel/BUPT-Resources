# 2021智科操作系统期中大题回忆

## 一、简答（每个5分）

### （1）进程通信的两种方式并解释

共享存储和消息传递，解释我编的

### （2）临界区问题需要满足的条件并解释

互斥、process、bounded waiting

## 二、2020三大班卷子里的改编题

题干中说是3处理机系统，有20个进程，设信号量S

（1）

(a)同

(b)最多有五个进程允许进入临界区（？这应该初始化s为3还是5啊）



![image-20211109102325841](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20211109102325841.png)

（2）求各个state的max，min的进程数

waiting 

runing

ready 

## 三、甘特图的题，有ABC三个进程同时到达，一个CPU，两个I/O，采用FCFS，画出甘特图，计算==CPU利用率==

类似下面这道![image-20211109102852437](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20211109102852437.png)

## 四、甘特图，几乎原题

![image-20211109103030908](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20211109103030908.png)

## 五、多生产者-多消费者问题

把下面这道改了，改成盘子可以装2个苹果或3个橘子，父亲每次放2个苹果，儿子每次取一个苹果；母亲女儿和这个方式一样

![image-20211109103357280](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20211109103357280.png)

![image-20211109103537615](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20211109103537615.png)

母女的代码完全一样的，父亲儿子稍作修改：

```
增设信号量mutex2=1;

计数器int apple_count=0;

father:
while(1){
	wait(splate);
	wait(mutex2);
	apple_count+=2;
	put 2 apples;
	signal(mutex2);
	signal(apple);
}
son:
while(1){
	wait(apple);
	wait(mutex2);
	if(apple_count>0)apple_count--;
	if(apple_count==0)signal(splate);
	signal(mutex2);
	eat the apple;
}
```

## 六、死锁检测，几乎和下面题目一样，改了数据

![image-20211109104458365](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20211109104458365.png)

![image-20211109104512869](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20211109104512869.png)

我是按下面这个算法的步骤写的

![image-20211109104543976](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20211109104543976.png)